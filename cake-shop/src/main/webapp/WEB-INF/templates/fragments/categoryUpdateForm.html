<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security6">
	
	<th:block th:fragment="ajaxLoadedContent">
	
		<div class="container" id="vueContent"
			style="margin-bottom: 100px;margin-top: 100px;font-family: Oswald, sans-serif">
    		<div class="row">
        		<div class="col-sm-4">
            		<form id="categoryForm">
                		<div class="form-group">
                    		<label for="name">Name</label>
                    		<input 
                    			type="text" 
                    			class="form-control" 
                    			id="name"  
                    			th:placeholder="${'Enter name'}" 
                    			v-model="name"
                    		/>
                    		<span class="text-danger" id="nameError" 
                        		th:style="${'visibility: hidden;'}" 
                        		th:text="${'Not empty!Max 30 letters!'}">
                        	</span>

                		</div>

                		<button type="submit" class="btn btn-primary">Update</button>
            		</form>
        		</div>
    		</div>
		</div>
		
		<script th:src="@{/js/categories.js?newversion}"></script>
		
		<script>
			$(document).ready(function() {
				categoryApp.getAllCategories();
				var categoryId = "[[${categoryId}]]";
				categoryApp.getSelectedCategory(categoryId);
			});
		
			var element = document.getElementById("categoryForm");
				element.addEventListener("submit", event => {
  					event.preventDefault();
  					executeCategoryForm();	
			});
  		</script>
	
	</th:block>